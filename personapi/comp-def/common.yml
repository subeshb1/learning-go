packages:
  - github.com/graniticio/granitic/v2/ws/handler
  - personapi/endpoint/person
  - personapi/pkg/model
  - personapi/configuration

components:
  # Routes
  getPerson:
    type: handler.WsHandler
    Logic: ref:getPersonLogic
    HTTPMethod: GET
    PathPattern: ^/person
  addPerson:
    type: handler.WsHandler
    Logic: ref:addPersonLogic
    HTTPMethod: POST
    PathPattern: ^/person
  updatePerson:
    type: handler.WsHandler
    Logic: ref:updatePersonLogic
    HTTPMethod: PUT
    PathPattern: ^/person
  # Logics
  getPersonLogic:
    type: person.GetPersonLogic
    People: ref:people
    Config: ref:config
  addPersonLogic:
    type: person.AddPersonLogic
    People: ref:people
    Config: ref:config
  updatePersonLogic:
    type: person.UpdatePersonLogic
    People: ref:people
    Config: ref:config
  # Modules
  people:
    type: model.People
  config:
    type: configuration.DynamoDB
